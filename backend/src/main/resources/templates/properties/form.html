<!doctype html>
<html lang="en" th:replace="fragments/_layout :: layout(~{::title}, ~{::section})">
<title th:text="${mode} == 'edit' ? 'Edit Property' : 'Add Property'">Property Form</title>

<section class="col-lg-10 mx-auto">
  <h1 class="h4 mb-3" th:text="${mode} == 'edit' ? 'Edit Property' : 'Add Property'">Add Property</h1>

  <form class="row g-3" method="post" enctype="multipart/form-data"
        th:action="${mode}=='edit' ? @{|/properties/${property.id}|} : @{/properties}">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

    <div class="col-md-8">
      <label class="form-label">Title</label>
      <input class="form-control" name="title" th:value="${property.title}">
    </div>

    <div class="col-md-4">
      <label class="form-label">Price (EGP)</label>
      <input type="number" step="0.01" class="form-control" name="price" th:value="${property.price}">
    </div>

    <div class="col-md-4">
      <label class="form-label">Location</label>
      <input class="form-control" name="location" th:value="${property.location}">
    </div>

    <div class="col-md-4">
      <label class="form-label">Type</label>
      <select class="form-select" name="type" th:value="${property.type}">
        <option value="apartment">Apartment</option>
        <option value="villa">Villa</option>
        <option value="commercial">Commercial</option>
        <option value="land">Land</option>
      </select>
    </div>

    <div class="col-md-2">
      <label class="form-label">Area (mÂ²)</label>
      <input type="number" class="form-control" name="area" th:value="${property.area}">
    </div>

    <div class="col-md-2">
      <label class="form-label">Bedrooms</label>
      <input type="number" class="form-control" name="bedrooms" th:value="${property.bedrooms}">
    </div>

    <div class="col-md-4">
      <label class="form-label">Status</label>
      <select class="form-select" name="status" th:value="${property.status}">
        <option value="available">Available</option>
        <option value="sold">Sold</option>
      </select>
    </div>

    <div class="col-12">
      <label class="form-label">Description</label>
      <textarea class="form-control" rows="5" name="description" th:text="${property.description}"></textarea>
    </div>

    <div class="col-md-6">
      <label class="form-label">Images (multiple)</label>
      <input type="file" name="images" class="form-control" multiple accept="image/*">
    </div>
    <div class="col-md-6">
      <label class="form-label">Brochure (PDF)</label>
      <input type="file" name="brochure" class="form-control" accept="application/pdf">
    </div>

    <div class="col-12 d-flex gap-2">
      <button class="btn btn-primary" type="submit" th:text="${mode}=='edit' ? 'Save' : 'Create'">Create</button>
      <a class="btn btn-outline-secondary" href="/">Cancel</a>
    </div>
  </form>
</section>
</html>
